## Требования

    python 3.13

## Установка

    pip install uv
    uv sync
    сделайте файл .env список констант можно взять в .env.example

## 1. Проверка email-доменов

Написать простой скрипт на Python, который:

    принимает список email-адресов;
    проверяет наличие MX-записей домена;
    выводит статус для каждого адреса:
        «домен валиден»;
        «домен отсутствует»;
        «MX-записи отсутствуют или некорректны».

    Формат: один .py-файл + короткая инструкция по запуску.

Запуск

    python -m scripts.check_email_domains


## 2. Мини-интеграция с Telegram

Сделать небольшой скрипт или n8n-флоу, который:

    принимает текст из файла .txt;
    отправляет этот текст в выбранный приватный Telegram-чат через Telegram-бота.

UI не нужен. Красивый код тоже не нужен. Главное — чтобы работало.

Измените файл scripts/message.txt

    добавьте в него нужный текст

Запуск

    python -m scripts.send_to_telegram

## 3. Архитектурная задача

```text
Предложить архитектуру, которая позволит обслуживать 
1200 email-адресов для аутрича 
(несколько клиентов, несколько направлений), 
с минимальной стоимостью инфраструктуры и высокой отказоустойчивостью.

В ответ включить:

• описание архитектуры;
• какие сервисы и подходы используются;
• как работает ротация и мониторинг;
• как распределяется нагрузка;
• риски и способы их 
закрытия;
• примерную оценку стоимости.

Объём: 0,5–1 страница текста.
```

```text
Архитектура для аутрича по 1200 email-адресам

Для обслуживания 1200 email-адресов предлагается лёгкая, 
отказоустойчивая и экономичная архитектура на базе одного облачного инстанса. 
В качестве backend-сервиса используется FastAPI с асинхронной обработкой 
(библиотека aiodns) для валидации доменов и отправки писем с задержкой (rate-limiting), 
чтобы избежать блокировок как спам. 
Все email-адреса, клиенты и направления хранятся в PostgreSQL.  

Разворачивание и управление инфраструктурой — через Terraform и Ansible, 
что позволяет в любой момент уничтожить и воссоздать окружение. 
Для отказоустойчивости — ежедневные бэкапы БД и возможность быстрого восстановления из шаблона.  

Нагрузка минимальна: 1200 адресов — это менее 1 тыс. проверок в check_email_domains.py, 
что легко обрабатывается на 2–4 ГБ RAM инстансе. 
Отправка писем производится с интервалами (например, 1–2 письма/сек), что снижает риск банов.  

Мониторинг — через Grafana + Prometheus (метрики CPU, памяти, очереди задач), логирование — в ELK-стек. 
Ротация — только при обновлении кода или зависимостей; инстанс может работать непрерывно.  

Риски:  

    Блокировка IP/email-провайдером → решается через ротацию отправки и 
    использование проверенных SMTP-сервисов (например, SendGrid или Mailgun в будущем).  
    Сбои инстанса → автоматическое восстановление через скрипты Ansible и бэкапы.

Стоимость: при постоянной работе — ~4–5 тыс. ₽/мес (облако, 2 vCPU, 4 ГБ RAM, SSD). 
При запуске по расписанию (только при наличии задач) — в 3–5 раз дешевле.
```
